{% extends "components/base.html" %}
{% load static %}

{% block content %}
<div class="events-container container-fluid h-100">
  <div class="events row justify-content-end">
    <div class="events__lst col-6">
      <div class="events__lst__top-fade"></div>
      <p class="events__lst__up-message unselectable">press &uarr; for earlier events</p>
      <div class="events__lst__circle-back"></div>
      <svg class="events__lst__indicator" width="26px" height="26px" viewBox="0 0 4 4">
        <path d="M0 0 L4 2 L 0 4" />
      </svg>
      <div class="events__lst__bot-fade"></div>
      <p class="events__lst__down-message unselectable">press &darr; for upcoming events</p>

      {% for event in events %}
      <div class="events__event unselectable" data-event-id="{{ event.id }}">
        <span class="events__event__date">{{ event.full_date }}</span>	
        <span class="events__event__title">{{ event.title }}</span>
        {% if event.location %}<span>{{ event.location }}</span>{% endif %}
        {% if event.time %}<span>{{ event.time }}</span>{% endif %}
        <div class="events__event__dot"></div>
      </div>
      {% endfor %}
    </div>
    <div class="events__desc col-6">
        {% for event in events %}
        <div class="events__desc__content-box" id="event-{{ event.id }}">
          <img class="events__desc__img" src="{% static event.image %}">
          <h1 class="events__desc__title">{{ event.title }}</h1>
          <p class="events__desc__datetime">{{ event.full_date }}{% if event.time %} from {{ event.time }}{% endif %}</p>
          {% if event.location %}<p class="events__desc__location">{{ event.location }}</p>{% endif %}
          <div class="events__desc__divider"></div>
          <p class="events__desc__blurb">{{ event.description }}</p>
          {% if event.facebook %}
            <a class="events__desc__facebook" href="{{ event.facebook }}">
              <i data-feather="facebook"></i>
            </a>
          {% endif %}
        </div>
        {% endfor %}
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/vendor/jquery.path.js' %}"></script>
<script>var initialEventId = {{ nearest_event }};</script>
<script src="{% static 'js/sections/events.js' %}"></script>
{% endblock %}